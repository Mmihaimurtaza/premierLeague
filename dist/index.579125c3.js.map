{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const presentationTeams = document.querySelector('.presentation ul');\r\nconst matchesDiv = document.querySelector('.matchWeek');\r\nconst tableStandingsDiv = document.querySelector('.standings table');\r\nconst matchweekSelectDropdownDiv = document.querySelector('.dropdown');\r\nconst dropdownContent = document.querySelector('.dropdown-content');\r\nlet matchWeek = 0;\r\nlet matchweeks =38;\r\n\r\nconst teamLinks = {\r\n   'Arsenal': 'https://www.arsenal.com/?utm_source=premier-league-website&utm_campaign=website&utm_medium=link',\r\n   'Aston Villa': 'https://www.avfc.co.uk/',\r\n   'Chelsea': 'https://www.chelseafc.com/en',\r\n   'Everton': 'https://www.evertonfc.com/',\r\n   'Fulham': 'https://www.fulhamfc.com/',\r\n   'Liverpool': 'https://www.liverpoolfc.com/',\r\n   'Man City': 'https://www.mancity.com/',\r\n   'Man United': 'https://www.manutd.com/',\r\n   'Newcastle': 'https://www.nufc.co.uk/',\r\n   'Tottenham': 'https://www.tottenhamhotspur.com/',\r\n   'Wolverhampton': 'https://www.wolves.co.uk/',\r\n   'Burnley': 'https://www.burnleyfootballclub.com/',\r\n   'Nottingham': 'https://www.nottinghamforest.co.uk/',\r\n   'Crystal Palace': 'https://www.cpfc.co.uk/',\r\n   'Sheffield Utd': 'https://www.sufc.co.uk/',\r\n   'Luton Town': 'https://www.lutontown.co.uk/',\r\n   'Brighton Hove': 'https://www.brightonandhovealbion.com/',\r\n   'Brentford': 'https://www.brentfordfc.com/en',\r\n   'West Ham': 'https://www.whufc.com/',\r\n   'Bournemouth': 'https://www.afcb.co.uk/'\r\n\r\n}\r\n\r\n\r\n\r\nconst url = 'https://api.football-data.org/v4/competitions/PL/matches';\r\nconst url2 = 'https://api.football-data.org/v4/competitions/PL/teams';\r\nconst url3 = 'https://api.football-data.org/v4/competitions/PL/standings';\r\nconst options = {\r\n\tmethod: 'GET',\r\n\theaders: {\r\n        \"X-Auth-Token\": \"343ecd9432f345fbaea2ab977cf2831e\"\r\n\t}\r\n};\r\n\r\nasync function getCurrentMatchWeek(){\r\n    try {\r\n        const response = await fetch(url3, options);\r\n        const result = await response.json();\r\n        return result.season.currentMatchday;\r\n    }catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\n//insert new date for games\r\nconst changeDate = (previousDate, currentDate) => {\r\n    if(previousDate !== currentDate){\r\n        previousDate = currentDate;\r\n        return true;\r\n    }\r\n    \r\n    return false;\r\n}\r\n\r\nasync  function getMatches(){\r\n    try {\r\n        const response = await fetch(url, options);\r\n        const result = await response.json();\r\n        const matches = result.matches;\r\n        matchweeks = matches.length/10;\r\n       \r\n        const games = [];\r\n      \r\n        let previousDate ='';\r\n        let currentDate = '';\r\n        matches.forEach((match,index) => {\r\n            const date = new Date(match.utcDate);\r\n            currentDate = '' + date.getDate() +'/'+ date.getMonth() +'/'+date.getFullYear();\r\n        \r\n            const homeTeam = match.homeTeam.tla;\r\n            const awayTeam = match.awayTeam.tla;\r\n            const homeTeamCrest = match.homeTeam.crest;\r\n            const awayTeamCrest = match.awayTeam.crest;\r\n            let score ='';\r\n            if(match.score.fullTime.home != null){\r\n                score += `${match.score.fullTime.home} - ${match.score.fullTime.away}`;\r\n            }\r\n            else{\r\n                \r\n                score += (date.getHours()<10?'0':'') + date.getHours()+ ':'+ (date.getMinutes()<10?'0':'') + date.getMinutes();\r\n            }\r\n            \r\n            html = `${changeDate(previousDate, currentDate)?  `<div class=\"date\"><h2>${currentDate}</h2></div>`:''}<div class = \"game\"><p>${homeTeam}</p><img src=\"${homeTeamCrest}\"> <span class=\"result\">${score}</span> <img src=\"${awayTeamCrest}\"><p>${awayTeam}</p></div> \r\n            <hr>   `\r\n            games.push(html);\r\n            previousDate=currentDate;\r\n        });\r\n    \r\n        return games;\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n   \r\n}\r\n\r\n//function to retrieve all the competition teams and asigned them websites\r\nasync function getTeams() {\r\n    const response = await fetch(url2, options)\r\n    const result  = await response.json();\r\n    const teams = result.teams;\r\n    let newListFlag = '';\r\n    teams.forEach(team => {\r\n        const newFlag = team.crest;\r\n        const name = team.shortName;\r\n         newListFlag += `\r\n        <li class=\"team\"><a href =\"${teamLinks[name]}\" target = \"_blank\"><img src = \"${newFlag}\"></li></a>`;\r\n \r\n    })\r\n  \r\n    return newListFlag;\r\n}\r\n\r\nasync function getStandings(){\r\n    try {\r\n        const response = await fetch(url3, options);\r\n        const result = await response.json();\r\n        const standings = result.standings[0].table;\r\n       \r\n        \r\n        let html = '';\r\n        standings.forEach((place, index) => {\r\n             html +=`<tr>\r\n                <td>${++index}</td>\r\n                <td class=\"bold\" colspan =\"1\"><img src = \"${place.team.crest}\"></td>\r\n                <td class=\"bold\" colspan =\"2\">${place.team.name}</td>\r\n                <td class=\"center\">${place.playedGames}</td>\r\n                <td class=\"center\">${place.won}</td>\r\n                <td class=\"center\">${place.draw}</td>\r\n                <td class=\"center\">${place.lost}</td>\r\n                <td class=\"center\">${place.goalsFor}</td>\r\n                <td class=\"center\">${place.goalsAgainst}</td>\r\n                <td class=\"center\">${place.goalDifference}</td>\r\n                <td class=\"center\">${place.points}</td>\r\n            </tr>`;\r\n\r\n           \r\n\r\n        })\r\n        return html;\r\n    }\r\n    catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nconst generateMatchweeks = (weeks) =>{\r\n    let html ='';\r\n    for(let i=1; i<=weeks; i++){\r\n        html +=` <p  class = \"c${i} ${matchWeek  === i?'active':''} }\" data-id=\"${i}\"> week ${i}</p>`\r\n    }\r\n    return html;\r\n}\r\n\r\n const premierLeagueListTeamsFlags =  getTeams();\r\n const standings = getStandings();\r\n const premierLeagueGamesList = getMatches();\r\n \r\n\r\n matchweekSelectDropdownDiv.addEventListener('click', function(e){\r\n    e.preventDefault();\r\n    \r\n    dropdownContent.classList.contains('isInvisible')?dropdownContent.classList.remove('isInvisible'):dropdownContent.classList.add('isInvisible');\r\n})\r\n\r\n const init = () =>{\r\n    premierLeagueListTeamsFlags.then(resp => { presentationTeams.insertAdjacentHTML('beforeend', resp)});\r\n    matchesDiv.innerHTML = matchesDiv.innerHTML =   ` \r\n        <div class = \"matchWeek-number\"><img src=\"\thttps://www.premierleague.com/resources/rebrand/v7.126.3/i/elements/pl-main-logo.png\r\n            \" alt=\"no photo\" />\r\n            <h1>Matchweek ${matchWeek}</h1>\r\n        </div>`;\r\n    premierLeagueGamesList.then(games => games.slice((matchWeek*10)-10, matchWeek*10).forEach(game =>{ matchesDiv.insertAdjacentHTML('beforeend', game) }));\r\n    \r\n    standings.then(resp => { tableStandingsDiv.insertAdjacentHTML('beforeend', resp)});\r\n    dropdownContent.insertAdjacentHTML('beforeend', generateMatchweeks(matchweeks));\r\n    dropdownContent.addEventListener('click', function(e){\r\n        e.preventDefault();\r\n        matchWeek= e.target.closest('p').dataset.id;\r\n        matchWeek = Number(matchWeek);\r\n        const weeks = document.querySelectorAll('.dropdown-content p');\r\n        console.log(matchWeek);\r\n        weeks.forEach(week =>{\r\n        \r\n            if(Number(matchWeek) == Number(week.dataset.id)){\r\n                week.classList.add('active');\r\n                \r\n            }\r\n            else{\r\n                week.classList.remove('active');\r\n            }\r\n            \r\n        })\r\n        matchesDiv.innerHTML = matchesDiv.innerHTML =   ` \r\n        <div class = \"matchWeek-number\"><img src=\"\thttps://www.premierleague.com/resources/rebrand/v7.126.3/i/elements/pl-main-logo.png\r\n            \" alt=\"no photo\" />\r\n            <h1>Matchweek ${matchWeek}</h1>\r\n        </div>`;\r\n        premierLeagueGamesList.then(games => games.slice((matchWeek*10)-10, matchWeek*10).forEach(game =>{ matchesDiv.insertAdjacentHTML('beforeend', game) }));\r\n    })\r\n        \r\n\r\n   \r\n        \r\n \r\n    }\r\n\r\n  \r\n\r\n getCurrentMatchWeek().then(resp=>{matchWeek=resp; init();});\r\n\r\n\r\n"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}